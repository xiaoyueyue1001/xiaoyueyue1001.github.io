(function(){"use strict";var i={8608:function(i,t,e){var n=e(9242),r=e(3396);function s(){const i=document.documentElement;let t=360,e=1440,n=window.innerWidth;n=Math.max(n,t),n=Math.min(n,e);let r=n/720*100;i.style.fontSize=r+"px"}var o=(0,r.aZ)({__name:"App",setup(i){return(0,r.bv)((()=>{s(),window.addEventListener("resize",s)})),(i,t)=>{const e=(0,r.up)("router-view");return(0,r.wg)(),(0,r.j4)(e)}}});const c=o;var a=c,p=e(2483),d=e(7139),g=e(4870),h=e(2482);e(7658);class m{constructor(i=10,t=10){(0,h.Z)(this,"width",void 0),(0,h.Z)(this,"height",void 0),this.width=i,this.height=t}cardPathCoordinate(i=2){let t=0,e=0;do{t=Math.floor(Math.random()*this.width),e=Math.floor(Math.random()*this.height)}while(!this.isEffectiveCoordinate([t,e],i));return{x:t,y:e}}isEffectiveCoordinate([i,t],e=2){return i+e<=this.width&&t+e<=this.height}isOverlap([i,t],[e,n],r=2){return Math.abs(i-e)<r&&Math.abs(t-n)<r}}var u=class{constructor(i=10,t=10){(0,h.Z)(this,"gameMap",void 0),(0,h.Z)(this,"cardTypeList",void 0),(0,h.Z)(this,"cardTypeNumber",void 0),(0,h.Z)(this,"cardNumber",void 0),(0,h.Z)(this,"list",void 0),(0,h.Z)(this,"cacheList",void 0),(0,h.Z)(this,"cardSize",void 0),this.cardSize=2,this.gameMap=new m(i,t),this.cardTypeList=[{id:"01",name:"",imgSrc:e(286)},{id:"02",name:"",imgSrc:e(9561)},{id:"03",name:"",imgSrc:e(3542)},{id:"04",name:"",imgSrc:e(2347)},{id:"05",name:"",imgSrc:e(9108)},{id:"06",name:"",imgSrc:e(9941)},{id:"07",name:"",imgSrc:e(9454)},{id:"9",name:"芭芭拉",imgSrc:e(8967)},{id:"13",name:"刻晴",imgSrc:e(6903)},{id:"8",name:"菲谢尔",imgSrc:e(9307)},{id:"12",name:"可莉",imgSrc:e(7216)},{id:"15",name:"莹",imgSrc:e(4868)},{id:"7",name:"行秋",imgSrc:e(7695)},{id:"2",name:"影",imgSrc:e(4151)},{id:"3",name:"巴巴托斯",imgSrc:e(3110)},{id:"4",name:"神里绫华",imgSrc:e(9051)},{id:"5",name:"八重神子",imgSrc:e(2375)},{id:"6",name:"烟绯",imgSrc:e(6250)},{id:"10",name:"班尼特",imgSrc:e(8703)},{id:"11",name:"珊瑚宫心海",imgSrc:e(4598)},{id:"14",name:"七七",imgSrc:e(6438)},{id:"15",name:"胡桃",imgSrc:e(2720)},{id:"1",name:"钟离",imgSrc:e(1199)}],this.cardNumber=28,this.cardTypeNumber=7,this.list=[],this.cacheList=[],this.initList()}initList(){let i=0,t=[];while(i<this.cardNumber)t.push({id:String(Math.random()),type:this.cardTypeList[i%this.cardTypeNumber],x:0,y:0,isTop:!0}),t.push({id:String(Math.random()),type:this.cardTypeList[i%this.cardTypeNumber],x:0,y:0,isTop:!0}),t.push({id:String(Math.random()),type:this.cardTypeList[i%this.cardTypeNumber],x:0,y:0,isTop:!0}),i++;t.forEach((i=>{let{x:t,y:e}=this.gameMap.cardPathCoordinate(this.cardSize);i.x=t,i.y=e})),this.list=t.sort((()=>Math.random()-.5)),this.getRenderList(),console.log(this.list)}getRenderList(){let i=[];this.list.forEach((t=>{i.forEach((i=>{this.gameMap.isOverlap([t.x,t.y],[i.x,i.y],this.cardSize)&&(i.isTop=!1)})),i=i.filter((i=>i.isTop)),t.isTop=!0,i.push(t)}))}removeItem(i){if(this.cacheList.length>=7)return;let t=this.list.findIndex((t=>t.id===i.id));this.list.splice(t,1);let e=this.cacheList.findIndex((t=>t.type.id===i.type.id));-1===e?this.cacheList.push(i):this.cacheList.splice(e,0,i),this.getRenderList(),this.updateCacheList()}updateCacheList(){let i=new Map;this.cacheList.forEach((t=>{i.get(t.type.id)?i.set(t.type.id,i.get(t.type.id)+1):i.set(t.type.id,1)})),console.log("updateCacheList",i);for(let t of i)if(t[1]>=3){let i=t[0];console.log("updateCacheList",i),this.cacheList=this.cacheList.filter((t=>t.type.id!==i))}}};const f={class:"game"},l={class:"wrap"},v={class:"canvas"},S=["onClick"],y={class:"list"};var b=(0,r.aZ)({__name:"HomeView",setup(i){let t=new u(8,12),n=(0,g.iH)(6/t.gameMap.width),s=(0,g.qj)({list:JSON.parse(JSON.stringify(t.list)),cacheList:t.cacheList,cardSize:t.cardSize});const o=()=>{s.list=JSON.parse(JSON.stringify(t.list)),s.cacheList=JSON.parse(JSON.stringify(t.cacheList)),setTimeout((()=>{0===s.list.length&&confirm("你赢了...")&&window.location.reload(),s.cacheList.length>=7&&confirm("你失败了，请重新开始...")&&window.location.reload()}),20)},c=i=>{i.isTop&&(t.removeItem(i),o())};let a=[e(3736),e(6662),e(4285),e(6568),e(8708)],p=a[Math.floor(5*Math.random())];return(i,t)=>((0,r.wg)(),(0,r.iD)("div",f,[(0,r._)("div",{class:"bg",style:(0,d.j5)({backgroundImage:`url('${(0,g.SU)(p)}')`})},null,4),(0,r._)("div",l,[(0,r._)("div",v,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)((0,g.SU)(s).list,((i,t)=>((0,r.wg)(),(0,r.iD)("div",{class:(0,d.C_)(["item",{disabled:!i.isTop}]),key:i.id,style:(0,d.j5)({width:(0,g.SU)(s).cardSize*(0,g.SU)(n)+"rem",height:(0,g.SU)(s).cardSize*(0,g.SU)(n)+"rem",left:i.x*(0,g.SU)(n)+"rem",top:i.y*(0,g.SU)(n)+"rem",backgroundImage:`url('${i.type.imgSrc}')`,zIndex:t+1}),onClick:t=>c(i)},null,14,S)))),128))]),(0,r._)("div",y,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)((0,g.SU)(s).cacheList,((i,t)=>((0,r.wg)(),(0,r.iD)("div",{class:"item",key:i.id,style:(0,d.j5)({backgroundImage:`url('${i.type.imgSrc}')`,left:`${t}rem`})},null,4)))),128))])])]))}}),x=e(89);const w=(0,x.Z)(b,[["__scopeId","data-v-1c206616"]]);var L=w;const M=[{path:"/",name:"home",component:L}],T=(0,p.p7)({history:(0,p.r5)(),routes:M});var O=T,j=e(65),_=(0,j.MT)({state:{},getters:{},mutations:{},actions:{},modules:{}});(0,n.ri)(a).use(_).use(O).mount("#app")},286:function(i,t,e){i.exports=e.p+"img/01.af992b4d.png"},9561:function(i,t,e){i.exports=e.p+"img/02.c3e88352.png"},3542:function(i,t,e){i.exports=e.p+"img/03.9cc1d8b5.png"},2347:function(i,t,e){i.exports=e.p+"img/04.6dd5fe94.png"},9108:function(i,t,e){i.exports=e.p+"img/05.660279b9.png"},9941:function(i,t,e){i.exports=e.p+"img/06.45e68a17.png"},9454:function(i,t,e){i.exports=e.p+"img/07.4bc76960.png"},1199:function(i,t,e){i.exports=e.p+"img/1.ea2f5de1.png"},8703:function(i,t,e){i.exports=e.p+"img/10.c302aef9.png"},4598:function(i,t,e){i.exports=e.p+"img/11.5d348d58.png"},7216:function(i,t,e){i.exports=e.p+"img/12.dfa69498.png"},6903:function(i,t,e){i.exports=e.p+"img/13.37e2e837.png"},6438:function(i,t,e){i.exports=e.p+"img/14.d9ec3c95.png"},4868:function(i,t,e){i.exports=e.p+"img/15.637f2e16.png"},2720:function(i,t,e){i.exports=e.p+"img/16.d27db4cb.png"},4151:function(i,t,e){i.exports=e.p+"img/2.a3c509d0.png"},3110:function(i,t,e){i.exports=e.p+"img/3.a4e5170e.png"},9051:function(i,t,e){i.exports=e.p+"img/4.7e47c368.png"},2375:function(i,t,e){i.exports=e.p+"img/5.ffb460b4.png"},6250:function(i,t,e){i.exports=e.p+"img/6.f080a3c8.png"},7695:function(i,t,e){i.exports=e.p+"img/7.3c794d81.png"},9307:function(i,t,e){i.exports=e.p+"img/8.0fa7228f.png"},8967:function(i,t,e){i.exports=e.p+"img/9.be01331a.png"},3736:function(i,t,e){i.exports=e.p+"img/bg1.71ad77d7.jpg"},6662:function(i,t,e){i.exports=e.p+"img/bg2.9071e8ab.jpg"},4285:function(i,t,e){i.exports=e.p+"img/bg3.a9a2310d.jpg"},6568:function(i,t,e){i.exports=e.p+"img/bg4.2b8e3c1b.jpg"},8708:function(i,t,e){i.exports=e.p+"img/bg5.e79bef49.jpg"}},t={};function e(n){var r=t[n];if(void 0!==r)return r.exports;var s=t[n]={exports:{}};return i[n](s,s.exports,e),s.exports}e.m=i,function(){var i=[];e.O=function(t,n,r,s){if(!n){var o=1/0;for(d=0;d<i.length;d++){n=i[d][0],r=i[d][1],s=i[d][2];for(var c=!0,a=0;a<n.length;a++)(!1&s||o>=s)&&Object.keys(e.O).every((function(i){return e.O[i](n[a])}))?n.splice(a--,1):(c=!1,s<o&&(o=s));if(c){i.splice(d--,1);var p=r();void 0!==p&&(t=p)}}return t}s=s||0;for(var d=i.length;d>0&&i[d-1][2]>s;d--)i[d]=i[d-1];i[d]=[n,r,s]}}(),function(){e.n=function(i){var t=i&&i.__esModule?function(){return i["default"]}:function(){return i};return e.d(t,{a:t}),t}}(),function(){e.d=function(i,t){for(var n in t)e.o(t,n)&&!e.o(i,n)&&Object.defineProperty(i,n,{enumerable:!0,get:t[n]})}}(),function(){e.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(i){if("object"===typeof window)return window}}()}(),function(){e.o=function(i,t){return Object.prototype.hasOwnProperty.call(i,t)}}(),function(){e.p=""}(),function(){var i={143:0};e.O.j=function(t){return 0===i[t]};var t=function(t,n){var r,s,o=n[0],c=n[1],a=n[2],p=0;if(o.some((function(t){return 0!==i[t]}))){for(r in c)e.o(c,r)&&(e.m[r]=c[r]);if(a)var d=a(e)}for(t&&t(n);p<o.length;p++)s=o[p],e.o(i,s)&&i[s]&&i[s][0](),i[s]=0;return e.O(d)},n=self["webpackChunklittle_game"]=self["webpackChunklittle_game"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=e.O(void 0,[998],(function(){return e(8608)}));n=e.O(n)})();