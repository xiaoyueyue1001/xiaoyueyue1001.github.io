(function(){"use strict";var t={1180:function(t,i,e){var n=e(9242),r=e(3396);function s(){const t=document.documentElement;let i=360,e=1440,n=window.innerWidth;n=Math.max(n,i),n=Math.min(n,e);let r=n/720*100;t.style.fontSize=r+"px"}var o=(0,r.aZ)({__name:"App",setup(t){return(0,r.bv)((()=>{s(),window.addEventListener("resize",s)})),(t,i)=>{const e=(0,r.up)("router-view");return(0,r.wg)(),(0,r.j4)(e)}}});const a=o;var c=a,p=e(2483),d=e(7139),h=e(4870),u=e(2482);e(7658);class g{constructor(t=10,i=10){(0,u.Z)(this,"width",void 0),(0,u.Z)(this,"height",void 0),this.width=t,this.height=i}cardPathCoordinate(t=2){let i=0,e=0;do{i=Math.floor(Math.random()*this.width),e=Math.floor(Math.random()*this.height)}while(!this.isEffectiveCoordinate([i,e],t));return{x:i,y:e}}isEffectiveCoordinate([t,i],e=2){return t+e<=this.width&&i+e<=this.height}isOverlap([t,i],[e,n],r=2){return Math.abs(t-e)<r&&Math.abs(i-n)<r}}var m=class{constructor(t=10,i=10){(0,u.Z)(this,"gameMap",void 0),(0,u.Z)(this,"cardTypeList",void 0),(0,u.Z)(this,"cardTypeNumber",void 0),(0,u.Z)(this,"cardNumber",void 0),(0,u.Z)(this,"list",void 0),(0,u.Z)(this,"cacheList",void 0),(0,u.Z)(this,"cardSize",void 0),this.cardSize=2,this.gameMap=new g(t,i),this.cardTypeList=[{id:"9",name:"芭芭拉",imgSrc:e(8967)},{id:"13",name:"刻晴",imgSrc:e(6903)},{id:"8",name:"菲谢尔",imgSrc:e(9307)},{id:"12",name:"可莉",imgSrc:e(7216)},{id:"15",name:"莹",imgSrc:e(4868)},{id:"7",name:"行秋",imgSrc:e(7695)},{id:"2",name:"影",imgSrc:e(4151)},{id:"3",name:"巴巴托斯",imgSrc:e(3110)},{id:"4",name:"神里绫华",imgSrc:e(9051)},{id:"5",name:"八重神子",imgSrc:e(2375)},{id:"6",name:"烟绯",imgSrc:e(6250)},{id:"10",name:"班尼特",imgSrc:e(8703)},{id:"11",name:"珊瑚宫心海",imgSrc:e(4598)},{id:"14",name:"七七",imgSrc:e(6438)},{id:"15",name:"胡桃",imgSrc:e(2720)},{id:"1",name:"钟离",imgSrc:e(1199)}],this.cardNumber=24,this.cardTypeNumber=6,this.list=[],this.cacheList=[],this.initList()}initList(){let t=0,i=[];while(t<this.cardNumber)i.push({id:String(Math.random()),type:this.cardTypeList[t%this.cardTypeNumber],x:0,y:0,isTop:!0}),i.push({id:String(Math.random()),type:this.cardTypeList[t%this.cardTypeNumber],x:0,y:0,isTop:!0}),i.push({id:String(Math.random()),type:this.cardTypeList[t%this.cardTypeNumber],x:0,y:0,isTop:!0}),t++;i.forEach((t=>{let{x:i,y:e}=this.gameMap.cardPathCoordinate(this.cardSize);t.x=i,t.y=e})),this.list=i.sort((()=>Math.random()-.5)),this.getRenderList(),console.log(this.list)}getRenderList(){let t=[];this.list.forEach((i=>{t.forEach((t=>{this.gameMap.isOverlap([i.x,i.y],[t.x,t.y],this.cardSize)&&(t.isTop=!1)})),t=t.filter((t=>t.isTop)),i.isTop=!0,t.push(i)}))}removeItem(t){if(this.cacheList.length>=7)return;let i=this.list.findIndex((i=>i.id===t.id));this.list.splice(i,1);let e=this.cacheList.findIndex((i=>i.type.id===t.type.id));-1===e?this.cacheList.push(t):this.cacheList.splice(e,0,t),this.getRenderList(),this.updateCacheList()}updateCacheList(){let t=new Map;this.cacheList.forEach((i=>{t.get(i.type)?t.set(i.type,t.get(i.type)+1):t.set(i.type,1)}));for(let i of t)if(i[1]>=3){let t=i[0].id;this.cacheList=this.cacheList.filter((i=>i.type.id!==t))}}};const l={class:"game"},f={class:"wrap"},v={class:"canvas"},y=["onClick"],b={class:"list"};var S=(0,r.aZ)({__name:"HomeView",setup(t){let i=new m(8,12),s=(0,h.iH)(6/i.gameMap.width),o=(0,h.qj)({list:JSON.parse(JSON.stringify(i.list)),cacheList:i.cacheList,cardSize:i.cardSize});const a=()=>{o.list=JSON.parse(JSON.stringify(i.list)),o.cacheList=JSON.parse(JSON.stringify(i.cacheList)),setTimeout((()=>{0===o.list.length&&confirm("你赢了...")&&window.location.reload(),o.cacheList.length>=7&&confirm("你失败了，请重新开始...")&&window.location.reload()}),20)},c=t=>{t.isTop&&(i.removeItem(t),a())};let p=[e(3736),e(6662),e(4285),e(6568),e(8708)],u=p[Math.floor(5*Math.random())];return(t,i)=>((0,r.wg)(),(0,r.iD)("div",l,[(0,r._)("div",{class:"bg",style:(0,d.j5)({backgroundImage:`url('${(0,h.SU)(u)}')`})},null,4),(0,r._)("div",f,[(0,r._)("div",v,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)((0,h.SU)(o).list,((t,i)=>((0,r.wg)(),(0,r.iD)("div",{class:(0,d.C_)(["item",{disabled:!t.isTop}]),key:t.id,style:(0,d.j5)({width:(0,h.SU)(o).cardSize*(0,h.SU)(s)+"rem",height:(0,h.SU)(o).cardSize*(0,h.SU)(s)+"rem",left:t.x*(0,h.SU)(s)+"rem",top:t.y*(0,h.SU)(s)+"rem",backgroundImage:`url('${t.type.imgSrc}')`,zIndex:i+1}),onClick:i=>c(t)},null,14,y)))),128))]),(0,r._)("div",b,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)((0,h.SU)(o).cacheList,(t=>((0,r.wg)(),(0,r.j4)(n.uT,{key:t.id},{default:(0,r.w5)((()=>[((0,r.wg)(),(0,r.iD)("div",{key:0,class:"item",style:(0,d.j5)({backgroundImage:`url('${t.type.imgSrc}')`})},null,4))])),_:2},1024)))),128))])])]))}}),x=e(89);const w=(0,x.Z)(S,[["__scopeId","data-v-1b07fba0"]]);var L=w;const T=[{path:"/",name:"home",component:L}],M=(0,p.p7)({history:(0,p.r5)(),routes:T});var O=M,j=e(65),_=(0,j.MT)({state:{},getters:{},mutations:{},actions:{},modules:{}});(0,n.ri)(c).use(_).use(O).mount("#app")},1199:function(t,i,e){t.exports=e.p+"img/1.ea2f5de1.png"},8703:function(t,i,e){t.exports=e.p+"img/10.c302aef9.png"},4598:function(t,i,e){t.exports=e.p+"img/11.5d348d58.png"},7216:function(t,i,e){t.exports=e.p+"img/12.dfa69498.png"},6903:function(t,i,e){t.exports=e.p+"img/13.37e2e837.png"},6438:function(t,i,e){t.exports=e.p+"img/14.d9ec3c95.png"},4868:function(t,i,e){t.exports=e.p+"img/15.637f2e16.png"},2720:function(t,i,e){t.exports=e.p+"img/16.d27db4cb.png"},4151:function(t,i,e){t.exports=e.p+"img/2.a3c509d0.png"},3110:function(t,i,e){t.exports=e.p+"img/3.a4e5170e.png"},9051:function(t,i,e){t.exports=e.p+"img/4.7e47c368.png"},2375:function(t,i,e){t.exports=e.p+"img/5.ffb460b4.png"},6250:function(t,i,e){t.exports=e.p+"img/6.f080a3c8.png"},7695:function(t,i,e){t.exports=e.p+"img/7.3c794d81.png"},9307:function(t,i,e){t.exports=e.p+"img/8.0fa7228f.png"},8967:function(t,i,e){t.exports=e.p+"img/9.be01331a.png"},3736:function(t,i,e){t.exports=e.p+"img/bg1.71ad77d7.jpg"},6662:function(t,i,e){t.exports=e.p+"img/bg2.9071e8ab.jpg"},4285:function(t,i,e){t.exports=e.p+"img/bg3.a9a2310d.jpg"},6568:function(t,i,e){t.exports=e.p+"img/bg4.2b8e3c1b.jpg"},8708:function(t,i,e){t.exports=e.p+"img/bg5.e79bef49.jpg"}},i={};function e(n){var r=i[n];if(void 0!==r)return r.exports;var s=i[n]={exports:{}};return t[n](s,s.exports,e),s.exports}e.m=t,function(){var t=[];e.O=function(i,n,r,s){if(!n){var o=1/0;for(d=0;d<t.length;d++){n=t[d][0],r=t[d][1],s=t[d][2];for(var a=!0,c=0;c<n.length;c++)(!1&s||o>=s)&&Object.keys(e.O).every((function(t){return e.O[t](n[c])}))?n.splice(c--,1):(a=!1,s<o&&(o=s));if(a){t.splice(d--,1);var p=r();void 0!==p&&(i=p)}}return i}s=s||0;for(var d=t.length;d>0&&t[d-1][2]>s;d--)t[d]=t[d-1];t[d]=[n,r,s]}}(),function(){e.n=function(t){var i=t&&t.__esModule?function(){return t["default"]}:function(){return t};return e.d(i,{a:i}),i}}(),function(){e.d=function(t,i){for(var n in i)e.o(i,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:i[n]})}}(),function(){e.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){e.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)}}(),function(){e.p=""}(),function(){var t={143:0};e.O.j=function(i){return 0===t[i]};var i=function(i,n){var r,s,o=n[0],a=n[1],c=n[2],p=0;if(o.some((function(i){return 0!==t[i]}))){for(r in a)e.o(a,r)&&(e.m[r]=a[r]);if(c)var d=c(e)}for(i&&i(n);p<o.length;p++)s=o[p],e.o(t,s)&&t[s]&&t[s][0](),t[s]=0;return e.O(d)},n=self["webpackChunklittle_game"]=self["webpackChunklittle_game"]||[];n.forEach(i.bind(null,0)),n.push=i.bind(null,n.push.bind(n))}();var n=e.O(void 0,[998],(function(){return e(1180)}));n=e.O(n)})();